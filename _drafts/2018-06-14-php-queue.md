---
layout: post
title:  "PHP异步队列"
date:   2018-06-14 11:40:22
author: "Heropoo"
categories: 
    - Queue
    - PHP
tags:
    - Queue
    - PHP
    - Redis
excerpt: "最近项目中用到好多用异步队列处理的后台任务，有些心得，记录一下。"
---
最近项目中用到好多用异步队列处理的后台任务，有些心得，记录一下。

### 场景
比如现在有一个场景是：公司对接了第三方的订单导流。每次订单在业务中改变之后都要即时推送订单状态到第三方。如果按传统的写法，每次业务中订单状态改变，都要写一个curl去请求一次第三方。这样本身公司的自己的业务请求都会变慢。如果还要回调其他的服务，就会越拖越慢。所以我们考虑全部丢到后台异步处理。

### 简单的实现
* 首先你要实现一个队列。emmmm，这里你可以根据自身服务器资源，可选数据库或者redis或者其他更高级的队列资源来实现。

大概代码是这样子的：
```php
<?php
class Queue{
}

